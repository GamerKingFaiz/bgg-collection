(this["webpackJsonpbgg-collection"]=this["webpackJsonpbgg-collection"]||[]).push([[0],{59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},79:function(e,t){},81:function(e,t){},94:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(52),i=a.n(r),s=(a(59),a(19)),o=(a(60),"https://web-production-de84.up.railway.app"),c="".concat(o,"/https://boardgamegeek.com/xmlapi2/thing?stats=1&id="),l="".concat(o,"/https://api.geekdo.com/xmlapi2/collection?own=1&stats=1&excludesubtype=boardgameexpansion&username="),u=(a(61),a(2)),d=function(e){var t=e.recursiveFetchAndWait,a=e.setGameList;return Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)("input",{type:"text",placeholder:"Enter BGG Username",name:"username",id:"searchBox",onKeyPress:function(e){"Enter"===e.key&&(window.umami.track("Enter key pressed"),a([]),t(l+e.target.value))}}),Object(u.jsx)("button",{type:"button",onClick:function(e){window.umami.track("Clicked Submit"),a([]),t(l+document.querySelector("#searchBox").value)},children:"Submit"})]})},m=function(e){e.forEach((function(e){"Not Ranked"===e.statistics[0].ratings[0].ranks[0].rank[0].$.value?e.statistics[0].ratings[0].ranks[0].rank[0].$.value="N/A":e.statistics[0].ratings[0].ranks[0].rank[0].$.value=Number(e.statistics[0].ratings[0].ranks[0].rank[0].$.value),e.minplayers[0].$.value=Number(e.minplayers[0].$.value),isNaN(e.minplayers[0].$.value)&&(e.stats[0].$.minplayers="--"),e.maxplayers[0].$.value=Number(e.maxplayers[0].$.value),isNaN(e.maxplayers[0].$.value)&&(e.maxplayers[0].$.value="--"),e.maxplaytime[0].$.value=Number(e.maxplaytime[0].$.value),isNaN(e.maxplaytime[0].$.value)&&(e.maxplaytime[0].$.value="--"),void 0===e.yearpublished[0].$.value&&(e.yearpublished[0].$.value=["--"])}))},h=a(53),v=[{Header:"Rank",accessor:"statistics[0].ratings[0].ranks[0].rank[0].$.value",maxWidth:75,sortMethod:function(e,t){return(e=null===e||void 0===e||"N/A"===e?1/0:e)>(t=null===t||void 0===t||"N/A"===t?1/0:t)?1:e<t?-1:0}},{Header:"",accessor:"thumbnail[0]",maxWidth:75,sortable:!1,Cell:function(e){return Object(u.jsx)("img",{src:e.value,width:"64",alt:"thumbnail",className:"thumbnail"})}},{Header:"Title",accessor:"name[0].$.value",minWidth:150,maxWidth:450,filterable:!0,style:{whiteSpace:"unset"},Cell:function(e){return Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("a",{href:"https://boardgamegeek.com/boardgame/"+e.original.$.id,target:"_blank",rel:"noopener noreferrer",children:e.value})," ",Object(u.jsxs)("span",{className:"yearPublished",children:["(",e.original.yearpublished[0].$.value,")"]})]})}},{Header:"Avg Rating",accessor:"statistics[0].ratings[0].average[0].$.value",defaultSortDesc:!0,maxWidth:100,Cell:function(e){return Object(u.jsx)("div",{className:"ratingContainer",children:Object(u.jsx)("div",{className:"averageRating",style:{backgroundColor:Math.round(10*e.value)/10>=9?"#249563":Math.round(10*e.value)/10>=8?"#2fc482":Math.round(10*e.value)/10>=7?"#1d8acd":Math.round(10*e.value)/10>=5?"#5369a2":Math.round(10*e.value)/10>=3?"#df4751":"#db303b"},children:Math.round(10*e.value)/10})})}},{Header:"Min Players",accessor:"minplayers[0].$.value",maxWidth:100,sortMethod:function(e,t){return(e=null===e||void 0===e||"--"===e?1/0:e)>(t=null===t||void 0===t||"--"===t?1/0:t)?1:e<t?-1:0}},{Header:"Max Players",accessor:"maxplayers[0].$.value",defaultSortDesc:!0,maxWidth:100,sortMethod:function(e,t){return(e=null===e||void 0===e||"--"===e?-1/0:e)>(t=null===t||void 0===t||"--"===t?-1/0:t)?1:e<t?-1:0}},{Header:"Play Time",accessor:"maxplaytime[0].$.value",defaultSortDesc:!0,maxWidth:100,sortMethod:function(e,t){return(e=null===e||void 0===e||"--"===e?-1/0:e)>(t=null===t||void 0===t||"--"===t?-1/0:t)?1:e<t?-1:0},Cell:function(e){return Object(u.jsxs)("span",{children:[e.value," Min"]})}},{Header:"Weight",accessor:"statistics[0].ratings[0].averageweight[0].$.value",maxWidth:100,Cell:function(e){return Object(u.jsxs)("strong",{children:[Object(u.jsx)("span",{style:{color:Math.round(100*e.value)/100>=5||Math.round(100*e.value)/100>=4||Math.round(100*e.value)/100>=3?"#ff6b26":(Math.round(100*e.value),"#5bda98")},children:Math.round(100*e.value)/100})," / 5"]})}}],f=a(18),b=a.n(f),p=a(54),g=(a(93),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),f=o[0],g=o[1],j=Object(n.useState)(void 0),x=Object(s.a)(j,2),y=x[0],O=x[1],k=Object(n.useCallback)((function(e){g(!0),fetch(e).then((function(t){if(200===t.status)return t.text();202===t.status?setTimeout((function(){return k(e)}),5e3):console.log("error: ",t.status)})).then((function(e){var t,a=[],n=[];if(b.a.parseString(e,(function(e,r){if(r.items&&"0"!==r.items.$.totalitems&&(t=Number(r.items.$.totalitems),r.items.item.forEach((function(e){a.push(e.$.objectid)}))),t>1e3)for(;a.length;)n.push(a.splice(0,1e3))})),t>0&&t<=1e3)return fetch(c+a.join()).then((function(e){return e.text()})).then((function(e){return b.a.parseString(e,(function(e,t){m(t.items.item),r((function(e){return e.concat(t.items.item)})),g(!1)}))}));n.forEach((function(e){fetch(c+e.join()).then((function(e){return e.text()})).then((function(e){return b.a.parseString(e,(function(e,t){m(t.items.item),r((function(e){return e.concat(t.items.item)}))}))}))})),g(!1)}))}),[]);return Object(n.useEffect)((function(){!function(){var e,t=document.querySelectorAll("div.rt-th > input"),a=Object(h.a)(t);try{for(a.s();!(e=a.n()).done;)e.value.placeholder="Search..."}catch(n){a.e(n)}finally{a.f()}}();var e=new URL(document.location).searchParams,t=e.get("username"),a=e.get("rows");(null!==a&&O(Number(a)),null!==t)&&k(l+t)}),[k]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:Object(u.jsx)("a",{className:"h1Link",href:".",children:"Better BGG Collection"})}),Object(u.jsx)("p",{className:"description",children:"Enter your BoardGameGeek username below to pull up your collection!"}),Object(u.jsx)(d,{recursiveFetchAndWait:k,setGameList:r}),Object(u.jsx)("p",{className:"tipText",children:"Tip: Hold shift when sorting to multi-sort!"}),Object(u.jsx)(p.a,{data:a,columns:v,defaultSorted:[{id:"statistics[0].ratings[0].ranks[0].rank[0].$.value",desc:!1}],showPaginationTop:!0,minRows:5,pageSizeOptions:[5,10,20,25,50,100,300,500,1e3,2e3,5e3,1e4],defaultPageSize:300,pageSize:y,loading:f,noDataText:"No games found or you haven't entered your username yet",className:"-highlight",defaultFilterMethod:function(e,t){var a=e.pivotId||e.id;return void 0===t[a]||String(t[a]).toLowerCase().includes(e.value.toLowerCase())}}),Object(u.jsx)("div",{id:"footer",children:Object(u.jsxs)("p",{children:["Page created with ",Object(u.jsx)("span",{role:"img","aria-label":"Red Heart",children:"\u2764\ufe0f"})]})})]})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(u.jsx)(g,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[94,1,2]]]);
//# sourceMappingURL=main.2273eb7f.chunk.js.map